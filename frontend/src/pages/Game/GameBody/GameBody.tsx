import { useGameStore, useSelectEnemy } from '@/store/game';
import { useGameActions } from './hooks';

export const GameBody = () => {
	const { onClick, id } = useGameActions();
	const disable = useGameStore((state) => state.disable);
	const users = useGameStore((state) => state.users);
	const enemy = useSelectEnemy(id);

	return (
		<>
			<h1>Rock - Paper - Scissors</h1>

			<div className="choices">
				<button onClick={() => onClick('–∫–∞–º–µ–Ω—å')} disabled={disable}>
					üëä
				</button>
				<button onClick={() => onClick('–±—É–º–∞–≥–∞')} disabled={disable}>
					‚úã
				</button>
				<button onClick={() => onClick('–Ω–æ–∂–Ω–∏—Ü—ã')} disabled={disable}>
					‚úå
				</button>
			</div>

			<div id="playerDisplay">–í–∞—à –Ω–∏–∫: {users?.[id]?.username} </div>
			<div id="enemyDisplay">–ü—Ä–æ—Ç–∏–≤–Ω–∏–∫: {enemy?.username || ''} </div>
			<div id="resultDisplay">
				<p>{enemy ? '' : '–û–∂–∏–¥–∞–π—Ç–µ –≤—Ç–æ—Ä–æ–≥–æ –∏–≥—Ä–æ–∫–∞'}</p>
				<p>{users?.[id]?.text || ''}</p>
			</div>

			<div className="scoreDisplay">
				–í–∞—à —Å—á—ë—Ç:
				<span id="playerScoreDisplay">{users?.[id]?.score || 0}</span>
			</div>

			<div className="scoreDisplay">
				–°—á—ë—Ç –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞:
				<span id="enemyScoreDisplay">{enemy?.score || 0}</span>
			</div>
		</>
	);
};
